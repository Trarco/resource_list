define(["jquery","block_resource_list/filter_manager"],function(t,e){return{init:function(){t(".resource-type-dropdown").each(function(){const n=t(this),o=n.data("uniqid"),c=t("#resourceListTypeToggleBtn-"+o),i=t("#resourceListTypefilterinput-"+o),r=c.find(".icon");if(0===c.length||0===i.length)return;c.on("click",function(t){t.stopPropagation(),i.toggle(),r.toggleClass("fa-chevron-down fa-chevron-up")}),i.on("click",function(t){t.stopPropagation()}),t(document).on("click",function(e){t(e.target).closest(n).length||(i.hide(),r.removeClass("fa-chevron-up").addClass("fa-chevron-down"))});const s=function(){const e=i.find("input.type-filter-checkbox:checked"),n=c.find(".selected-types-text");if(0===e.length)n.text(c.data("showalltypes"));else{const o=e.map(function(){return t(this).data("displayname").trim()}).get().join(", ");n.text(o)}};i.on("change","input.type-filter-checkbox",function(){const n=i.find("input.type-filter-checkbox:checked").map(function(){return t(this).val()}).get();s(),e.setTypes(o,n)}),s()})}}});